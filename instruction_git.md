# **Инструкция по работе с системой контроля версий Git**

![Эмблема Git](git.jpg)

Git (произносится «гит») — распределённая система управления версиями. Проект был создан Линусом Торвальдсом для управления разработкой ядра Linux, первая версия выпущена 7 апреля 2005 года. На сегодняшний день его поддерживает Джунио Хамано.

## Инициализация репозитория

Чтобы создать (инициализировать) новый репозиторий нужно в терминале ввести команду:

    git init

Репозиторий будет создан в той папке, из которой вызывалась команда

## Проверка состояния репозитория

Чтобы проверить текущее состояние репозитория нужно ввести в терминале команду:

    git status

## Добавление изменения к отслеживанию версионности

Чтобы добавить сделанное изменение к отслеживанию (поместить в индекс) нужно ввести команду:

    git add <имя файла>

где вместо <имя файла> вводится путь к файлу относительно расположения репозитория.

## Фиксация изменений

Чтобы зафиксировать изменение используется команда:

    git commit

В таком случае откроется окно для ввоба краткого описания сделанных изменений.

Чтобы сделать это одновременно с фиксацией используется команда:

    git commit -m "комментарий"

## Просмотр истории изменений

Чтобы посмотреть историю изменений используется комада

    git log

Для просмотра изменений с выводом одного коммита в одну строку используется команда

    git log --oneline

Для просмотра всех имеющихся коммитов используется команда

    git log --all

Для просмотра лога с графическим изображением веток используется команда

    git log --graph

Все указанные флаги могут использоваться вместе:

    git log --all --oneline --graph

## Просмотр различий между изменениями

Для просмотра отличий между текущим состоянием репозитория и последним сохраненным изменением используется команда

    git diff

Можно также посмотреть разницу между любыми двуми коммитами. Для этого используется команда

    git diff <хэш1> <хэш2>

## Переключение на нужное изменение

Чтобы переключиться на нужный коммит используется команда

    git checkout <хэш>

## Ветки в Git

### Создание новой ветки

Чтобы создать новую ветку используется команда

    git branch <имя_ветки>

### Просмотр всех веток

Чтобы посмотреть какие ветки существуют и на какой мы находимся используется команда

    git branch

### Переключение между ветками

Чтобы переключиться на другую ветку используется команда

    git checkout <имя_ветки>

### Слияние веток

Чтобы влить одну ветку в другую необходимо находясь в целевой ветке (КУДА будем делать слияние) выполнить команду

    git merge <имя_вливаемой_ветки>

### Конфликты при слиянии

Если одна и та же строка в разный версиях записана по разному возникнет конфликт.
Чистый гит автоматически сохраняет оба изменения, далее требуется вручную внести нужные правки и сделать коммит.

VSСode дает возможность выбрать какое изменение сохранить (входящее, существующее или оба).

### Удаление ветки

Чтобы удалить ветку, которая больше не нужно (например после слияния) используется команда

    git branch -d <имя_ветки>

## Работа с удаленными репозиториями

Удаленные репозитории представляют собой версии вашего проекта, сохранённые в интернете или ещё где-то в сети. 

У вас может быть несколько удалённых репозиториев, каждый из которых может быть доступен для чтения или для чтения-записи. 

Взаимодействие с другими пользователями предполагает управление удалёнными репозиториями, а также отправку и получение данных из них.

### Github

    Github.com - это сервис, которыйй позволяет интегрироваться с Git (VSCode) и работать удаленно с репозиториям. 

Здесь вы можете найти:
* кучу open-source-проектов на разных языках и поучаствовать в них
* разместить своё портфолио с примерами кода, чтобы приложить ссылку к резюме
* подглядывать в открытых проектах интересные архитектурные решения
* смотреть, как опытные разработчики пишут код
* скачивать огромное количество полезных в разработке и бесплатных инструментов для разработки и тд.

**!** Не стоит путать GitHub и Git. 

**GitHub** — лишь одна из реализаций системы контроля версий Git, в которую добавлено много удобных инструментов и возможностей.

Помните, GitHub можно использовать и без знания Git.

### Команды для работы с удаленными репозиториями.

В первую очередь, для того, чтобы работать с Github, вам необходимо создать свой аккаунт.

1. Для начала рассмотрим ситуацию, когда у вас есть локальный репозиторий, и вам нужно его загрузить ("запушить") в Github. 

    Либо, по-другому, связать наш локальный репозиторий с удаленным.

* первое, что нужно сделать, это создать пустой репозиторий на Github. Для этого мы совершаем следующие действия:

        "+"
        new repository
        <name of new repository>
        creating repository

* После этого Github предлагает нам набор команд, с помощью которых вы сможете совершить перенос из вашего локального репозитория в удаленный (который мы создали).

    Наша задача выбрать набор ссылок, который необходим именно для нашей ситуации: "**or push an existing repository from the command line**". 

    Далее последовательно выполняем команды в нашем терминале:

        git remote add origin <link our remote repository> (например:https://github.com/Cherry2812/hello1.git)

        git branch -M main

        git push -u origin main

    Теперь, если мы зайдем на Github в наш созданный репозиторий, мы увидим все файлы, которые были в нашем локальном репозитории.

    * Если мы совершаем какие-либо изменения в локльном репозитории, в Github ваш документ не изменится.

        Для того, чтобы внести эти изменения в удаленный репозиторий, необходимо использовать команду:

            git push
    
        Эта команда позволяет добавить все наши изменения, которые мы сделали в git(VSCode) "запушить" в удаленный репозиторий.

        Чтобы увидеть все изменения и коммиты, которые делали в локальном или удаленном репозитории, в Github мы можем воспользоваться кнопкой _**history**_ (комментарий **verified** поможет вам определить, что изменения были добавлены именно в Github файле).

    * Бывают ситуации, когда под рукой нет нашего компьютера с установленным VSCode или Git, в этом случае мы можем совершать изменения прямо в удаленном репозитории через кнопку **карандаш**

        В этом случае, после внесения изменений в удаленном репозитории, мы можем использовать команду _**git pull**_ для сохранения этих изменений в нашем локальном репозитории.

            git pull

2. В основном Github используется для работы в, так называемых, *open source* проектах. Работа в таких проектах помогает нам предложить свои изменения владельцу репозитория в уже существующем репозитории. 

    Удачные проекты привлекают множество разработчиков, которые помогают им развиваться. 
    
    Они пишут отчеты об ошибках, присылают исправления и даже становятся полноправными разработчиками.

* Для начала нам нужно найти тот репозиторий в Github, в который мы хотели бы внести изменения.

* Далее нам обязательно необходимо скопировать ("форкнуть") этот репозиторий в наш аккаунт на Github.

    _Для этого мы используем кнопку **fork** в правом верхнем углу от репозитория_.

    Вуаля, мы оказываемся в том же скопированном репозитории, НО уже на своем аккаунте Github.

* После этого мы копируем ссылку на скопированный репозиторий их нашего аккаунта:

        кнопка code
        копировать ссылку

* Затем создаем новую папку на нашем рабочем столе с нужным названием, загружаем VSCode, открываем папку и в терминале выполняем следующие команды:

        git clone <link our remote repository>

        cd <name of folder in wich we will work>

        git branch <name of new branch>

        git checkout <name of new branch>

* Далее создаем в нашей папке новый файл с названием README.md (обязательно используем CAPS LOCK для названия файла).

_Наш скопированный репозиторий готов к внесению предложения к изменению._

**Важно!** 

Команда **cd "name new foder"** необходима для того, чтобы мы перешли из папки, которую создали на рабочем столе, в папку из скопированного нами репозитория, чтобы мы могли производить в нем изменения.

Команда **git branch "name of new branch"** позволяет создать новую ветку, в которой вы можете производить свои изменения. 

**!** в случае, если вы будете изменять что-либо в ветке main, то владелец репозитория не примет ваш комментарий.

Команда **git checkout "name of new branch"** поможет вам перейти с ветки main в вашу новую ветку, где вы сможете приступать к внесению изменений.

* После того, как мы внесли ряд изменений в нашу новую ветку, обязательно проводим команды:

        git add <name of file>

        git commit -m "short description"

        git push --set -upstream origin <name of branch>

        git push

    Все изменения, которые, вы внесли в локальном репозитории будут загружены на сервер Github в ваш аккаунт.

* Для того, чтобы предложить изменения владельцу удаленного репозитория (наш open source проекта, который редактировали), мы используем следующий порядок действий в Github:

    - заходим в репозиторий, который "форкнули" ранее в наш аккаунт
    
    - нажимаем кнопку **_Compare&pull request_**

    - добавляем краткое название пула и его полное описание

    - нажимаем кнопку **_create pull request_**

*Готово!*

Если вы выполнили все пункты по порядку, то ваше изменение было отправлено на рассмотрение владельцу open source проекта. 

Статус вашего запроса можно отследить в вашем скопированном репозитории во вкладке **_Pull requests_**. 

## Заключение

Мы рассмотрели базовые сценарии работы с системами Git (VSCode) и Github.

Каждая приведенная выше команда имеет значительно больше ключей и соответственно возможностей. 

Постепенное их изучение даст вам возможность легко оберегать свои иходники и больше концентрироваться непосредственно на разработке.

                                КОНЕЦ

